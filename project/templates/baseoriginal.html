<!DOCTYPE html>
<html lang="en" class="scroll-smooth">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, viewport-fit=cover">
    <title>{% block title %}{% endblock %} - Heritage Foods</title>
    
    <script src="https://cdn.tailwindcss.com"></script>
    
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700;800&display=swap" rel="stylesheet">
    
    <link rel="icon" href="{{ url_for('main.uploaded_file', filename='heritage-logo.png') }}">
    
    <script src="https://cdn.jsdelivr.net/npm/alpinejs@3.x.x/dist/cdn.min.js"></script>

    <style>
        /* Custom styles for the brand colors and typography */
        body { 
            font-family: 'Inter', sans-serif;
            background-color: #f8fafc; /* Tailwind's gray-50 */
        }
        /* NEW: Colors updated from your logo */
        .heritage-green { color: #0A8445; }
        .bg-heritage-green { background-color: #0A8445; }
        .hover\:bg-heritage-green-dark:hover { background-color: #086F3A; }
        .focus\:ring-heritage-green:focus { --tw-ring-color: #0A8445; }
        .border-heritage-green { border-color: #0A8445; }
        
        .heritage-red { color: #D82232; }
        .bg-heritage-red { background-color: #D82232; }
        .hover\:bg-heritage-red-dark:hover { background-color: #B91C2A; }

        .heritage-orange { color: #f7941e; }
        .bg-heritage-orange { background-color: #f7941e; }

                /* Apply global styles to common input and select elements */
        input[type="password"],
        input[type="text"],
        input[type="date"],
        select {
            border-width: 1px;
            border-color: #d1d5db; /* Equivalent to border-gray-300 */
            border-radius: 0.375rem; /* Equivalent to rounded-md */
            box-shadow: 0 1px 2px 0 rgba(0, 0, 0, 0.05); /* Equivalent to shadow-sm */
            padding: 0.5rem 1rem; /* Adjust padding as needed for consistent size */
            display: block; /* Ensure they take full width if needed */
            width: 100%; /* Ensure they take full width if needed */
            font-size: 1rem; /* text-base */
            line-height: 1.5rem; /* Equivalent to leading-6 */
        }

        /* Focus styles */
        input[type="text"]:focus,
        input[type="date"]:focus,
        select:focus {
            outline: 2px solid transparent; /* default outline removal */
            outline-offset: 2px;
            box-shadow: 0 0 0 2px var(--color-heritage-green), 0 1px 2px 0 rgba(0, 0, 0, 0.05); /* ring-heritage-green and shadow-sm */
            border-color: var(--color-heritage-green); /* border-heritage-green */
        }


        /* Smooth transition for Alpine.js x-show */
        [x-cloak] { display: none !important; }
    </style>
</head>
<body class="flex flex-col min-h-screen">
    
    <header class="bg-white shadow-md sticky top-0 z-50">
        <div class="bg-heritage-green h-1.5"></div>
        <nav class="container mx-auto px-4 sm:px-6 lg:px-8">
            <div class="flex items-center justify-between h-16 relative">
                
                <div class="flex-shrink-0 flex items-center -mt-4 -mb-4"> <a href="{{ url_for('main.index') }}" title="Home" class="flex items-center">
                        <img src="{{ url_for('static', filename='heritage-logo.png') }}" 
                             alt="Heritage Foods Logo" 
                             class="h-16 sm:h-20 md:h-24 w-auto transition-all duration-300"
                             onerror="this.onerror=null;this.src='https://placehold.co/200x60/ffffff/004b8d?text=Heritage+Foods';">
                    </a>
                </div>

                <div class="flex items-center space-x-4">
                    {% if current_user.is_authenticated %}
                        <span class="hidden sm:inline text-gray-600 text-sm">
                            Welcome, {{ current_user.username }}
                        </span>
                        {% if current_user.role == 'superadmin' %}
                            <a href="{{ url_for('main.superadmin_dashboard') }}" class="text-gray-700 hover:text-heritage-green font-medium">Dashboard</a>
                        {% else %}
                            <a href="{{ url_for('main.qa_dashboard') }}" class="text-gray-700 hover:text-heritage-green font-medium">Dashboard</a>
                        {% endif %}
                        <a href="{{ url_for('main.qa_logout') }}" class="text-gray-700 hover:text-heritage-green font-medium">Logout</a>
                    {% else %}
                        <a href="{{ url_for('main.qa_login') }}" 
                           class="bg-heritage-green text-white font-bold py-2 px-5 rounded-lg hover:bg-heritage-green-dark transition-colors shadow-sm text-sm">
                            QA Login
                        </a>
                    {% endif %}
                </div>
            </div>
        </nav>
    </header>

    <main class="container mx-auto p-4 sm:p-6 lg:p-8 flex-grow">
        {% block content %}{% endblock %}
    </main>

    <footer class="bg-heritage-green text-white">
        <div class="bg-heritage-green">
            <div class="container mx-auto px-4 sm:px-6 lg:px-8 py-6 text-center text-sm">
                &copy; {{ current_year }} Heritage Foods Limited. All Rights Reserved.
            </div>
        </div>
        <div class="bg-[#086F3A] h-1.5"></div> </footer>

</body>
</html>